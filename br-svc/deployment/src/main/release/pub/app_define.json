{
    "fileVersion": "1",
	"name": "BRS",
	"description": "Puer BRS Service",
	"requireDiskSize": 50,
    "rtspSoftLink": true,
    "dependency": {
    },
    "upgrade": {
        "use": {
            "jre": "~1.3"
        }
    },
    "processes": {
		"brs": {
            "use": {
                "jre": "~1.3",
            	"tomcat": "~9.0"
            },
			"subscribes": ["*"],
            "mode": "cluster",
            "cpu": 0.5,
            "memory": 512,
            "memoryLimit": 1024,
			"patterns": ["/brs"],
            "useAdditionalEnv": [
                "_APP_LOG_DIR",
                "_APP_TMP_DIR",
                "_APP_SHARE_DIR",
                "AUTH"
            ],
            "protocols": {
                "IR": "http",
                "MQ": "HornetQ"
            },
            "commands": {
                "start": [
                    "${APP_ROOT}/bin/start.sh"
                ],
                "stop": [
                    "${APP_ROOT}/bin/stop.sh"
                ]
            },
	"databases": {
		"brsdb": {
			"type": ["mysql"],
			"serviceName": "invdbsvr",
			"dataSize": 20480,
			"logSize": 10240,
			"sharding": false,
			"defaultShardingNumber": 3
		},
		"bucketsys": {
			"type": ["mysql"],
			"serviceName": "invdbsvr",
			"dataSize": 20480,
			"logSize": 10240,
			"sharding": false,
			"defaultShardingNumber": 3,
			"reference": "MSS-bucketsys"
		}
	}
    }
}
